<chapter>
  <slide
    scale="1"
    title="">
    <div class="layout-1x1">
      <div class="layout-left">
        <h1>Git Workshop</h1>
        <h3>
          Johann Wagner
          <br>
          Martin Koppehel
          <br>
          Johannes WÃ¼nsche
          <br>
          Fin Christensen
          <br>
          Willy Failla
        </h3>
      </div>

      <div class="layout-right" style="align-self: center;">
        <img src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Git-logo.svg">
      </div>
    </div>
  </slide>

  <slide title="What will you learn?">
    <div class="layout-1">
      <div class="layout-center">
        <ol>
          <li>What version control is</li>
          <li>How git works and how to work with it</li>
          <li>Insight into most common git workflows</li>
          <li>Advanced tricks with git</li>
        </ol>

        <p>
          And interactive guides with examples and training!
        </p>
      </div>
    </div>
  </slide>
</chapter>

<chapter>
  <slide
    scale="1"
    title="Why version control?">
    <div class="layout-2">
      <img class="layout-center-top" src="./assets/version-control.svg">
      <div class="layout-center-bottom">
        <ul>
          <li>Protects your sourcecode from loss or damage</li>
          <li>Enables collaborative and concurrent work</li>
          <li>Revert your sourcecode to a previous state</li>
        </ul>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Why use git?">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>Decentralized</li>
          <ul>
            <li>No central server</li>
            <li>Distributed development</li>
            <li>Perfect for open source projects</li>
          </ul>
          <li>Flexible</li>
          <ul>
            <li>Can implement almost any workflow</li>
            <li>Scales well for all project sizes</li>
          </ul>
        </ul>
        <blockquote>
          <code>git</code> is <b>not</b> easy to learn and hard to use correctly
        </blockquote>
      </div>
      <div class="layout-right" style="text-align: center;">
        <img height="600" src="assets/git_2x.png">
      </div>
    </div>
  </slide>
</chapter>

<chapter>
  <slide
    scale="1"
    title="Basics: What is a repository?">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>Git projects are hold in "repositories"</li>
          <li>A git repository holds all the history of the project</li>
          <li>History is hold in the <code>.git</code> folder in your project root</li>
        </ul>
      </div>

      <div class="layout-right" style="text-align: center;">
        <img height="300" src="assets/git-project-layout.svg">
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Basics: What is a branch?">
    <div class="layout-2">
      <div class="layout-top">
        <ul>
          <li>The Git history ist managed in "branches"</li>
          <li>Branches can be seen as timelines</li>
          <li>A branch is diverted from a parent branch</li>
          <li>Branches are managing "commits"</li>
          <li>Default branch: <code>master</code></li>
        </ul>
      </div>

      <div class="layout-bottom" style="text-align: center;">
        <img height="300" src="assets/git-branches.svg">
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Basics: What is a commit?">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>A commit is</li>
          <ul>
            <li>A node in a branch</li>
            <li>A "diff" of code changes that are added to the history</li>
            <li>Some metadata such as author and the commit message</li>
          </ul>
        </ul>
      </div>

      <div class="layout-right">
        <img src="assets/diff.png">
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Basics: What is a tag?">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>Commits can be marked with a "tag"</li>
          <li>A tag is a unique identifier pointing on a commit</li>
          <li>Are usually used to mark releases of a software</li>
          <li>A tag consists of a name and a message</li>
          <li>The commit <code>3</code> introduces the tag <code>v0.1.0</code> on branch <code>master</code></li>
        </ul>
      </div>

      <div class="layout-right">
        <history>
          master@Initial commit;
          master@Add fancy code;
          master:v0.1.0@Add documentation;
          master@Work on new feature;
          master@Fix major bugs;
        </history>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Basics: Summing it Up">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>A repository is made up of one or more branches</li>
          <li>Branches can exist side by side</li>
          <li>Branches are made up of commits that build the history of your project</li>
          <li>Commits are holding the actual "code changes" in the history</li>
        </ul>
      </div>

      <div class="layout-right" style="text-align: center; align-self: center; padding-bottom: 2em;">
        <img width="900" src="assets/history.png">
      </div>
    </div>
  </slide>

</chapter>

<chapter>
  <slide
    scale="1"
    title="Let's start">
    <div class="layout-1x1">
      <div class="layout-left">
        <p><b>Get your laptops!</b></p>
        <p>
          Open <a href="https://workshop.pattig.rocks">https://workshop.pattig.rocks</a> in your web-browser!
        </p>
        <p>
          This will open up a terminal with all tools preinstalled!
        </p>
      </div>

      <div class="layout-right" style="text-align: center; align-self: center;">
        <img height="500" src="assets/workshop-site.png">
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Let's Use Git">
    <div class="layout-1x1">
      <div class="layout-left">
        <div>
          Create a new directory and <code>cd</code> into it:
        </div>
        <pre>$ mkdir my-project
$ cd my-project</pre>
        <div>
          Create a new repo in this directory:
        </div>
        <pre>$ git init</pre>
      </div>
      <div class="layout-right">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Ok, and now?">
    <div class="layout-2">
      <div class="layout-center-top">
        Configure your environment!
        <pre>$ git config --global user.name "name"
$ git config --global user.email "email"
$ git config --global core.editor nano</pre>

        <div>
          Installed editors: <code>vim</code>, <code>emacs</code>, <code>nano</code>
        </div>
      </div>
      <div class="layout-center-bottom">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="How to Use Nano">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>Open or create a new file: <pre>$ nano my-file.txt</pre></li>
          <li>Save a file: <code>Ctrl+O</code></li>
          <li>Quit Nano <code>Ctrl+X</code></li>
        </ul>
      </div>

      <div class="layout-right">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="I wanna do something!">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>Add a <code>README</code> to the git repo</li>
          <li>Stage the new file with <code>git add</code></li>
          <ul>
            <li>Staged files are files that are marked for commit</li>
          </ul>
          <li>Commit all staged files</li>
        </ul>
      </div>

      <div class="layout-right">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Now tell your fellows what you did...">
    <div class="layout-1">
      <div class="layout-center">
        <pre>Short description in imperative - 70 columns max width ---------------

  Long description ------- 80 chars wide -----------------------------------------
  # Please enter the commit message for your changes. Lines starting
  # with '#' will be ignored, and an empty message aborts the commit.
  # On branch master
  #
  # Initial commit
  #
  # Changes to be committed:
  #	new file:   README.md
  #</pre>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Let's do it together!">
    <div class="layout-1">
      <div class="layout-center">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="How can I stage all files at once?">
    <div class="layout-1x1">
      <div class="layout-left">
        <pre>$ git add -A</pre>
        Will add all unstaged files to the staging area.
      </div>

      <div class="layout-right">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="But I don't want all the files!">
    <div class="layout-2">
      <div class="layout-center-top">
        There is magic for that! A file called <code>.gitignore</code>
        <pre>./just?use*bash{{'{'}}globs,here{{'}'}}</pre>
      </div>
      <div class="layout-center-bottom">
        <tty></tty>
      </div>
    </div>
  </slide>

  <slide
    scale="1"
    title="Pushing to a remote repository">
    <div class="layout-1x1">
      <div class="layout-left">
        <ul>
          <li>Each remote is also a git repository</li>
          <li>You can use anything as a remote</li>
          <li>Pushing is applying your local changes on the remote repo</li>
        </ul>
      </div>
      <div class="layout-right">
        <tty></tty>
      </div>
    </div>

</slide>

<!--Willys part order 200->300-->

<slide order="200" scale="1" title="Rewrite History">
    <ul>
        <li><b>!Danger!</b> advanced tpoic</li>
        <li>if local history changes it needs to be force pushed</li>
        <li>force pushing is not good</li>
        <li>will result in other peoples local copy being out of sync with the remote</li>
    </ul>
</slide>

<slide order="201" scale="1" title="how to rewrite history?">
    easiest way is to use:<br>

    <pre>% git remote -v
 origin https://github.com/elementary/calendar.git (fetch)
 origin https://github.com/elementary/calendar.git (push)
% git rebase -i b55e6eb
 successfully rebased and updated refs/heads/master.</pre>

</slide>

<slide order="220" scale="1" title="Fix">
<pre>pick e842b66 Remove unused match_keycode method (#238)
pick 38ac20f Replace most of used deprecated methods (#237)
pick 12d8409 Translated using Weblate (Thai)
pick 81ef40a Translated using Weblate (Japanese)
pick e2fbfd9 Translated using Weblate (Japanese)
pick 343f2ba Translated using Weblate (Japanese)
pick 470dc17 Translated using Weblate (Japanese)
pick 280a4d9 Translated using Weblate (Portuguese)
pick a6618ed Translated using Weblate (Marathi)</pre>
</slide>

<slide order="221" scale="1" title="Fix">
<pre>pick e842b66 Remove unused match_keycode method (#238)
pick 38ac20f Replace most of used deprecated methods (#237)
pick 12d8409 Translated using Weblate (Thai)
pick 81ef40a Translated using Weblate (Japanese)
f e2fbfd9 Translated using Weblate (Japanese)
f 343f2ba Translated using Weblate (Japanese)
f 470dc17 Translated using Weblate (Japanese)
pick 280a4d9 Translated using Weblate (Portuguese)
pick a6618ed Translated using Weblate (Marathi)</pre>
</slide>

<slide order="asdf" scale="1" title="Fix">
  <history>
    master@commit 1 commit;
    master@commit 2 commit;
    master@commit 3 commit;
    master@commit 4 commit;
    master@commit 5 commit;
  </history>
</slide>

<slide order="asdf" scale="1" title="Fix">
  <history>
    master@commit 1 commit;
    master@commit 2-4 commit;
    master@commit 5 commit;
  </history>
</slide>

<slide order="220" scale="1" title="Reword">
<pre>pick e842b66 Remove unused match_keycode method (#238)
pick 38ac20f Replace most of used deprecated methods (#237)
pick 12d8409 Translated using Weblate (Thai)
pick 81ef40a Translated using Weblate (Japanese)
r e2fbfd9 Translated using Weblate (Japanese)
pick 343f2ba Translated using Weblate (Japanese)
pick 470dc17 Translated using Weblate (Japanese)
pick 280a4d9 Translated using Weblate (Portuguese)
pick a6618ed Translated using Weblate (Marathi)</pre>
</slide>

<slide order="230" scale="1" title="Reword">
  <div class="layout-1x1">
    <div class="layout-left">
      <history>
        master@commit 1;
        master@commit 2;
        master@commit 3;
        master@commit 4;
        master@commit 5;
      </history>
    </div>
    <div class="layout-right">
      <history>
        master@commit 1;
        master@commit 2;
        master@reword;
        master@commit 4;
        master@commit 5;
      </history>
    </div>
  </div>
</slide>

<slide order="240" scale="1" title="Drop">
<pre>pick e842b66 Remove unused match_keycode method (#238)
pick 38ac20f Replace most of used deprecated methods (#237)
pick 12d8409 Translated using Weblate (Thai)
pick 81ef40a Translated using Weblate (Japanese)
d e2fbfd9 Translated using Weblate (Japanese)
pick 343f2ba Translated using Weblate (Japanese)
pick 470dc17 Translated using Weblate (Japanese)
pick 280a4d9 Translated using Weblate (Portuguese)
pick a6618ed Translated using Weblate (Marathi)</pre>
</slide>

<slide order="230" scale="1" title="Reword">
  <div class="layout-1x1">
    <div class="layout-left">
      <history>
        master@commit 1;
        master@commit 2;
        master@commit 3;
        master@commit 4;
        master@commit 5;
      </history>
    </div>
    <div class="layout-right">
      <history>
        master@commit 1;
        master@commit 2;
        master@commit 4;
        master@commit 5;
      </history>
    </div>
  </div>
</slide>

<slide order="250" scale="1" title="Revert">
<li>does not change history</li>
<li>adds new commit in which it will try to remove changes that were applied in
the commit that is passed</li>
</slide>

<slide order="250" scale="1" title="Reset">
<li>changes history</li>
<li>moves the current HEAD</li>
</slide>

<slide order="270" scale="1" title="Cherrypick">
  <div class="layout-1x1">
    <div class="layout-left">
      <history>
        master@commit 1 commit;
        master@commit 2 commit;
        master@commit 3 commit;
        dev@dev commit 1 commit;
        dev@dev commit 2 commit;
        master@commit 4 commit;
      </history>
    </div>
    <div class="layout-right">
      <history>
        master@commit 1 commit;
        master@commit 2 commit;
        master@commit 3 commit;
        dev@dev commit 1 commit;
        dev@dev commit 2 commit;
        master@commit 4 commit;
        dev@dev commit 4 commit;
      </history>
    </div>
  </div>
</slide>

<slide order="270" scale="1" title="Cherrypick">
  <history>
    master@commit 1 commit;
    master@commit 2 commit;
    master@commit 3 commit;
    dev@dev commit 1 commit;
    dev@dev commit 2 commit;
    master@commit 4 commit;
    >dev@commit 4 commit;
  </history>
</slide>

<!--end of willys part-->
<chapter>
  <slide
    scale="1"
    title="Ok, and how do I use these branches and tags now?">
  </slide>

  <slide
    scale="1"
    title="How a merge works">
  </slide>

  <slide
    scale="1"
    title="How a rebase works">
  </slide>

  <slide
    scale="1"
    title="Cloning an existing repository">
    <div class="layout-2">
      <div class="layout-center-top">
        <p>
          Cloning means receiving an identical copy of the remote repository
        </p>

        <pre>$ git clone https://github.com/octocat/Hello-World.git
  $ git clone https://github.com/octocat/Hello-World.git -b test Hello-World-test</pre>
      </div>
      <div class="layout-center-bottom">
        <tty></tty>
      </div>
    </div>
  </slide>
</chapter>

<chapter>
  <slide
    scale="1"
    title="TTY">
    <tty></tty>
  </slide>

  <!--
       * [1] Add gitignore slide
       * [3] branches / tags
       * [6] merge vs. rebase / workflows
       * [2] checkout/revert/reset/clean
       * [2] rewriting history
       * [?] cherry picking

       rebase: http://jsfiddle.net/fin_ger/74ef9g15/11/
       merge: http://jsfiddle.net/fin_ger/aLbzdgzL/1/

    centralized workflow:
     - one master branch
     - small team sizes
     - rebase
     - linear history

    feature branching:
     - feature development on dedicated branch
     - not disturbing the main code base
     - master should not contain broken code

    forking workflow:
     - each developer has a local and a remote repository

    gitflow workflow:
     - large projects with scheduled release cycles
     - master, hotfix, develop, feature, release
  -->
</chapter>
